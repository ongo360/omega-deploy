version: '2'
services:
 holder:
  image: centos:6.7
  restart: always
#  container_name: holder
  environment:
   - TERM=xterm
  networks: 
    vxlan110:
      aliases:
       - namenode
  ports:
   - 50070:50070
   - 8020:8020
  command: top -b -d 60
 namenode:
  image: uhopper/hadoop-namenode
  network_mode: service:holder
  restart: always
  depends_on:
   - holder
  volumes:
   - /hadoop/dfs/name:/hadoop/dfs/name
  environment:
   - "CLUSTER_NAME=myhadoop"
   - "affinity:container!=*namenode*"
networks:
 vxlan110:
  external: 
   name: vxlan110 
