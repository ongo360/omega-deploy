version: '2'
services:
 holder:
  image: centos:6.7
  restart: always
  networks:
   - vxlan110
  environment:
   - TERM=xterm
  command: top -b -d 60
 datanode:
  image: uhopper/hadoop-datanode
  network_mode: service:holder
  restart: always
  volumes:
   - /hadoop/dfs/data:/hadoop/dfs/data
  environment:
   - "affinity:container!=*datanode*"
   - "CORE_CONF_fs_defaultFS=hdfs://namenode:8020"
networks:
 vxlan110:
  external: 
   name: vxlan110 
